{"ast":null,"code":"var _jsxFileName = \"/home/acdr/apprendre/Udemy/react-rmdb/src/components/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { API_URL, API_KEY, API_BASE_URL, POSTER_SIZE, BACKDROP_SIZE } from '../config';\nimport HeroImages from './elements/HeroImage';\nimport Gird from './elements/Grid';\nimport MovieThumb from './elements/MovieThumb';\nimport LoadMoreBtn from './elements/LoadMoreBtn';\nimport Spinner from './elements/Spinner';\nimport SearchBar from './elements/SearchBar';\n\nconst Home = () => {\n  const [state, setState] = useState({\n    movies: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const fetchMovies = async endpoint => {\n    setError(false);\n    setLoading(true);\n\n    try {\n      const result = await (await fetch(endpoint)).json();\n      console.log(result.page);\n      setState(prev => ({ ...prev,\n        movies: [...result.results],\n        heroImage: prev.heroImage || result.results[0],\n        currentPage: result.page,\n        totalPage: result.total_pages\n      }));\n    } catch (error) {\n      setError(true);\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchMovies(`${API_URL}movie/popular?api_key=${API_KEY}`);\n  }, []);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(HeroImages, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Gird, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(MovieThumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(LoadMoreBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/acdr/apprendre/Udemy/react-rmdb/src/components/Home.js"],"names":["React","useState","useEffect","API_URL","API_KEY","API_BASE_URL","POSTER_SIZE","BACKDROP_SIZE","HeroImages","Gird","MovieThumb","LoadMoreBtn","Spinner","SearchBar","Home","state","setState","movies","loading","setLoading","error","setError","fetchMovies","endpoint","result","fetch","json","console","log","page","prev","results","heroImage","currentPage","totalPage","total_pages"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SACIC,OADJ,EAEIC,OAFJ,EAGIC,YAHJ,EAIIC,WAJJ,EAKIC,aALJ,QAKwB,WALxB;AAMA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;;AAGA,MAAMC,IAAI,GAAC,MAAI;AACX,QAAK,CAACC,KAAD,EAAOC,QAAP,IAAiBf,QAAQ,CAAC;AAACgB,IAAAA,MAAM,EAAC;AAAR,GAAD,CAA9B;AACA,QAAK,CAACC,OAAD,EAASC,UAAT,IAAqBlB,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAK,CAACmB,KAAD,EAAOC,QAAP,IAAiBpB,QAAQ,CAAC,KAAD,CAA9B;;AACA,QAAMqB,WAAW,GAAE,MAAMC,QAAN,IAAgB;AAC/BF,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAF,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAG;AAEC,YAAMK,MAAM,GAAG,MAAM,CAAC,MAAMC,KAAK,CAACF,QAAD,CAAZ,EAAwBG,IAAxB,EAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,IAAnB;AACAb,MAAAA,QAAQ,CAACc,IAAI,KAAG,EACZ,GAAGA,IADS;AAEZb,QAAAA,MAAM,EAAC,CAAC,GAAGO,MAAM,CAACO,OAAX,CAFK;AAGZC,QAAAA,SAAS,EAACF,IAAI,CAACE,SAAL,IAAkBR,MAAM,CAACO,OAAP,CAAe,CAAf,CAHhB;AAIZE,QAAAA,WAAW,EAAET,MAAM,CAACK,IAJR;AAKZK,QAAAA,SAAS,EAACV,MAAM,CAACW;AALL,OAAH,CAAL,CAAR;AAOH,KAXD,CAWC,OAAMf,KAAN,EAAY;AACLC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACP;;AACDD,IAAAA,UAAU,CAAC,KAAD,CAAV;AAEH,GApBD;;AAqBAjB,EAAAA,SAAS,CAAC,MAAI;AACVoB,IAAAA,WAAW,CAAE,GAAEnB,OAAQ,yBAAwBC,OAAQ,EAA5C,CAAX;AACH,GAFQ,EAEP,EAFO,CAAT;AAGA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ;AAUH,CAtCD;;AAwCA,eAAeU,IAAf","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport {\n    API_URL,\n    API_KEY,\n    API_BASE_URL,\n    POSTER_SIZE,\n    BACKDROP_SIZE} from '../config';\nimport HeroImages from './elements/HeroImage';\nimport Gird from './elements/Grid';\nimport MovieThumb from './elements/MovieThumb';\nimport LoadMoreBtn from './elements/LoadMoreBtn';\nimport Spinner from './elements/Spinner';\nimport SearchBar from './elements/SearchBar';\n\n\nconst Home=()=>{\n    const[state,setState]=useState({movies:[]});\n    const[loading,setLoading]=useState(false);\n    const[error,setError]=useState(false);\n    const fetchMovies= async endpoint=>{\n        setError(false);\n        setLoading(true);\n        try{\n            \n            const result = await (await fetch(endpoint)).json();\n            console.log(result.page)\n            setState(prev=>({\n                ...prev,\n                movies:[...result.results],\n                heroImage:prev.heroImage || result.results[0],\n                currentPage: result.page,\n                totalPage:result.total_pages\n            }))\n        }catch(error){\n                setError(true)\n                console.log(error)\n        }\n        setLoading(false)\n\n    }\n    useEffect(()=>{\n        fetchMovies(`${API_URL}movie/popular?api_key=${API_KEY}`)\n    },[])\n    return(   \n        <React.Fragment>\n            <HeroImages/>\n            <SearchBar/>\n            <Gird/>\n            <MovieThumb/>\n            <Spinner/>\n            <LoadMoreBtn/>\n        </React.Fragment>\n    )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}